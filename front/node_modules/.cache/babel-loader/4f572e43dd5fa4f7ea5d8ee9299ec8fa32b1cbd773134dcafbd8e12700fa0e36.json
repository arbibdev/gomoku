{"ast":null,"code":"const checkStones = (x, y, board, orientation) => {\n  var nb = 0;\n  var color = board[y][x];\n  while (orientation === 'vertical' && y++ < 19 && board[y - 1][x] === color) nb++;\n  while (orientation === 'horizontal' && x++ < 19 && board[y][x - 1] === color) nb++;\n  while (orientation === 'diagonal1' && x++ < 19 && y++ < 19 && board[y - 1][x - 1] === color) nb++;\n  while (orientation === 'diagonal2' && x-- >= 0 && y++ < 19 && board[y - 1][x + 1] === color) nb++;\n  if (nb >= 5) return color;\n  return false;\n};\nconst checkAlignment = (x, y, board, xIncrement, yIncrement) => {\n  var sizeAlignment = 0;\n  var color = board[y][x];\n  while (x >= 0 && x < 19 && y >= 0 && y < SB && board[y][x] === color) {\n    sizeAlignment += 1;\n    x += xIncrement;\n    y += yIncrement;\n  }\n  if (sizeAlignment >= 5) return 1;\n  return 0;\n};\nconst checkAlignments = (x, y, board) => {\n  var winner;\n  if ((winner = checkAlignment(x, y, board, 'vertical', 0, 1)) || (winner = checkAlignment(x, y, board, 'horizontal', 1, 0)) || (winner = checkAlignment(x, y, board, 'diagonal1', 1, 1)) || (winner = checkAlignment(x, y, board, 'diagonal2', -1, 1))) return winner;\n  return false;\n};\nconst checkBoard = board => {\n  var winner;\n  for (var y = 0; y < 19; y++) {\n    for (var x = 0; x < 19; x++) {\n      if (board[y][x] && (winner = checkAlignments(x, y, board))) return;\n    }\n  }\n};\nconst checkEndGame = data => {\n  if (data.piecesOnBoard === 361) return data.DRAW;\n  if (data.captures.white >= 10) return data.WHITE;\n  if (data.captures.black >= 10) return data.BLACK;\n  checkBoard(data.board);\n};\nmodule.exports = {\n  checkEndGame,\n  checkWinner\n};","map":{"version":3,"names":["checkStones","x","y","board","orientation","nb","color","checkAlignment","xIncrement","yIncrement","sizeAlignment","SB","checkAlignments","winner","checkBoard","checkEndGame","data","piecesOnBoard","DRAW","captures","white","WHITE","black","BLACK","module","exports","checkWinner"],"sources":["/Users/adauchy/work/ft/gomoku/myGomokuGit/front/src/tools/checkEndGame.js"],"sourcesContent":["const checkStones = (x, y, board, orientation) => {\n    var nb = 0\n    var color = board[y][x]\n    while (orientation === 'vertical' && y++ < 19 && board[y - 1][x] === color)nb++\n    while (orientation === 'horizontal' && x++ < 19 && board[y][x - 1] === color)nb++\n    while (orientation === 'diagonal1' && x++ < 19 && y++ < 19 && board[y - 1][x - 1] === color)nb++\n    while (orientation === 'diagonal2' && x-- >= 0 && y++ < 19 && board[y - 1][x + 1] === color)nb++\n    if (nb >= 5)\n        return color\n    return false\n}\n\nconst checkAlignment = (x, y, board, xIncrement, yIncrement) => {\n\tvar sizeAlignment = 0\n\tvar color = board[y][x]\n\twhile (x >= 0 && x < 19 && y >= 0 && y < SB && board[y][x] === color){\n\t\tsizeAlignment += 1;\n\t\tx += xIncrement\n\t\ty += yIncrement\n\t}\n\tif (sizeAlignment >= 5)\n\t\treturn 1\n\treturn 0\n}\n\nconst checkAlignments = (x, y, board) => {\n    var winner\n    if (\n        (winner = checkAlignment(x, y, board, 'vertical', 0, 1)) ||\n        (winner = checkAlignment(x, y, board, 'horizontal', 1, 0)) ||\n        (winner = checkAlignment(x, y, board, 'diagonal1', 1, 1)) ||\n        (winner = checkAlignment(x, y, board, 'diagonal2', -1, 1))\n    )\n        return winner\n    return false\n}\n\nconst checkBoard = (board) => {\n    var winner\n    for (var y = 0; y < 19; y++){\n        for (var x = 0; x < 19; x++){\n            if (board[y][x] && (winner = checkAlignments(x, y, board)))\n                return ;\n        }\n    }\n}\n\nconst checkEndGame = (data) => {\n    if (data.piecesOnBoard === 361)\n        return data.DRAW\n\tif (data.captures.white >= 10)\n\t\treturn data.WHITE\n\tif (data.captures.black >= 10)\n\t\treturn data.BLACK\n\tcheckBoard(data.board)\n}\n\nmodule.exports = {\n    checkEndGame,\n    checkWinner\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}