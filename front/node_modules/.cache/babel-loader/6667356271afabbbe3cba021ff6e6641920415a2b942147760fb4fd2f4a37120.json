{"ast":null,"code":"import { getBoard } from \"./tools\";\nconst singleStonesHeuristic = (board, data) => {\n  var heuristic = 0;\n  var localHeuristic;\n  var freeNeighbour;\n  for (var y = 0; y < 19; y++) {\n    for (var x = 0; x < 19; x++) {\n      if (board[y][x]) {\n        localHeuristic = 10;\n        freeNeighbour = 1;\n        if (y - 1 >= 0 && !board[y - 1][x]) freeNeighbour += 1;\n        if (y - 1 >= 0 && x + 1 < 19 && !board[y - 1][x + 1]) freeNeighbour += 1;\n        if (x + 1 < 19 && !board[y][x + 1]) freeNeighbour += 1;\n        if (x + 1 < 19 && y + 1 < 19 && !board[y + 1][x + 1]) freeNeighbour += 1;\n        if (y + 1 < 19 && !board[y + 1][x]) freeNeighbour += 1;\n        if (y + 1 < 19 && x - 1 >= 0 && !board[y + 1][x - 1]) freeNeighbour += 1;\n        if (x - 1 >= 0 && !board[y][x - 1]) freeNeighbour += 1;\n        if (x - 1 >= 0 && y - 1 >= 0 && !board[y - 1][x - 1]) localHeuristic *= freeNeighbour;\n        if (localHeuristic > 10) {\n          if (board[y][x] === data.iaColor) heuristic += localHeuristic;else heuristic -= localHeuristic;\n        }\n      }\n    }\n  }\n  return heuristic;\n};\nconst getNeighbour1 = (x, y, board, orientation, data) => {\n  if (orientation === data.VERTICAL && y - 1 >= 0 && !board[y - 1][x] || orientation === data.HORIZONTAL && x - 1 >= 0 && !board[y][x - 1] || orientation === data.DIAGONAL1 && x - 1 >= 0 && y - 1 >= 0 && !board[y - 1][x - 1] || orientation === data.DIAGONAL2 && x + 1 < 19 && y - 1 >= 0 && !board[y - 1][x + 1]) return 1;\n  return 0;\n};\nconst getNeighbour2 = (x, y, board, nb, orientation, data) => {\n  if (orientation === data.VERTICAL && y + nb < 19 && !board[y + nb][x] || orientation === data.HORIZONTAL && x + nb < 19 && !board[y][x + nb] || orientation === data.DIAGONAL1 && x + nb < 19 && y + nb < 19 && !board[y + nb][x + nb] || orientation === data.DIAGONAL2 && x - nb >= 0 && y + nb < 19 && !board[y + nb][x - nb]) return 1;\n  return 0;\n};\nconst checkVerticalAlignment = (x, y, board, color, checkedBoard) => {\n  var nb = 0;\n  while (y < 19 && board[y][x] === color && checkedBoard[y][x] !== data.VERTICAL) {\n    checkedBoard[y][x] = data.VERTICAL;\n    nb++;\n    y++;\n  }\n  return nb;\n};\nconst checkHorizontalAlignment = (x, y, board, color, checkedBoard) => {\n  var nb = 0;\n  while (x < 19 && board[y][x] === color && checkedBoard[y][x] !== data.HORIZONTAL) {\n    checkedBoard[y][x] = data.HORIZONTAL;\n    nb++;\n    x++;\n  }\n  return nb;\n};\nconst checkDiagonal1Alignment = (x, y, board, color, checkedBoard) => {\n  var nb = 0;\n  while (x < 19 && y < 19 && board[y][x] === color && checkedBoard[y][x] !== data.DIAGONAL1) {\n    checkedBoard[y][x] = data.DIAGONAL1;\n    nb++;\n    x++;\n    y++;\n  }\n  return nb;\n};\nconst checkDiagonal2Alignment = (x, y, board, color, checkedBoard) => {\n  var nb = 0;\n  while (x >= 0 && y < 19 && board[y][x] === color && checkedBoard[y][x] !== data.DIAGONAL2) {\n    checkedBoard[y][x] = data.DIAGONAL2;\n    nb++;\n    x--;\n    y++;\n  }\n  return nb;\n};\nconst checkStones = (x, y, board, orientation, checkedBoard) => {\n  var nb = 0;\n  var color = board[y][x];\n  var neighbour1 = getNeighbour1(x, y, board, orientation, data);\n  var saveX = x;\n  var saveY = y;\n  if (orientation === data.VERTICAL) nb = checkVerticalAlignment(x, y, board, color, checkedBoard);else if (orientation === data.HORIZONTAL) nb = checkHorizontalAlignment(x, y, board, color, checkedBoard);else if (orientation === data.DIAGONAL1) nb = checkDiagonal1Alignment(x, y, board, color, checkedBoard);else if (orientation === data.DIAGONAL2) nb = checkDiagonal2Alignment(x, y, board, color, checkedBoard);\n  if (nb > 1) {\n    var neighbour2 = getNeighbour2(saveX, saveY, board, nb, orientation, data);\n    if (nb < 5 && !neighbour1 && !neighbour2) return false;\n    return {\n      nb,\n      neighbour1,\n      neighbour2\n    };\n  }\n  return false;\n};\nconst checkAlignment = (x, y, board, checkedBoard) => {\n  var alignment = [];\n  var ret;\n  for (var c = data.VERTICAL; c <= data.DIAGONAL2; c++) {\n    if (ret = checkStones(x, y, board, c, checkedBoard)) alignment.push(ret);\n  }\n  return alignment;\n};\nconst initCheckedBoard = () => {\n  var res = [];\n  for (var y = 0; y < 19; y++) {\n    res[y] = [];\n    for (var x = 0; x < 19; x++) {\n      res[y][x] = 0;\n    }\n  }\n  return res;\n};\nconst alignmentsHeuristic = (board, data) => {\n  var heuristic = 0;\n  var alignment;\n  var checkedBoard = initCheckedBoard();\n  for (var y = 0; y < 19; y++) {\n    for (var x = 0; x < 19; x++) {\n      if (board[y][x] && board[y][x] !== data.FORBIDDEN) {\n        alignment = checkAlignment(x, y, board, checkedBoard);\n        for (var c = 0; c < alignment.length; c++) {\n          if (board[y][x] === data.iaColor) heuristic += Math.pow(10, alignment[c].nb) * (1 + alignment[c].neighbour1 + alignment[c].neighbour2);else heuristic -= Math.pow(10, alignment[c].nb) * (1 + alignment[c].neighbour1 + alignment[c].neighbour2);\n        }\n      }\n    }\n  }\n  return heuristic;\n};\nconst getHeuristic = (node, data) => {\n  const start = window.performance.now();\n  var board = getBoard(node, data.board);\n  var h1 = singleStonesHeuristic(board, data);\n  var h2 = alignmentsHeuristic(board, data);\n  const end = window.performance.now();\n  data.heuristicTime += end - start;\n  return h1 + h2;\n};\nexport default getHeuristic;","map":{"version":3,"names":["getBoard","singleStonesHeuristic","board","data","heuristic","localHeuristic","freeNeighbour","y","x","iaColor","getNeighbour1","orientation","VERTICAL","HORIZONTAL","DIAGONAL1","DIAGONAL2","getNeighbour2","nb","checkVerticalAlignment","color","checkedBoard","checkHorizontalAlignment","checkDiagonal1Alignment","checkDiagonal2Alignment","checkStones","neighbour1","saveX","saveY","neighbour2","checkAlignment","alignment","ret","c","push","initCheckedBoard","res","alignmentsHeuristic","FORBIDDEN","length","Math","pow","getHeuristic","node","start","window","performance","now","h1","h2","end","heuristicTime"],"sources":["/Users/adauchy/work/ft/myGomokuGit/gomoku/src/tools/ia/heuristic.js"],"sourcesContent":["import { getBoard } from \"./tools\"\n\nconst singleStonesHeuristic = (board, data) => {\n    var heuristic = 0\n    var localHeuristic\n    var freeNeighbour\n    for (var y = 0; y < 19; y++){\n        for (var x = 0; x < 19; x++){\n            if (board[y][x]){\n                localHeuristic = 10\n                freeNeighbour = 1\n                if (y - 1 >= 0 && !board[y - 1][x])\n                    freeNeighbour += 1\n                if (y - 1 >= 0 && x + 1 < 19 && !board[y - 1][x + 1])\n                    freeNeighbour += 1\n                if (x + 1 < 19 && !board[y][x + 1])\n                    freeNeighbour += 1\n                if (x + 1 < 19 && y + 1 < 19 && !board[y + 1][x + 1])\n                    freeNeighbour += 1\n                if (y + 1 < 19 && !board[y + 1][x])\n                    freeNeighbour += 1\n                if (y + 1 < 19 && x - 1 >= 0 && !board[y + 1][x - 1])\n                    freeNeighbour += 1\n                if (x - 1 >= 0 && !board[y][x - 1])\n                    freeNeighbour += 1\n                if (x - 1 >= 0 && y - 1 >= 0 && !board[y - 1][x - 1])\n                localHeuristic *= freeNeighbour\n                if (localHeuristic > 10)\n                {\n                    if (board[y][x] === data.iaColor)\n                        heuristic += localHeuristic\n                    else\n                        heuristic -= localHeuristic\n                }\n            }\n        }\n    }\n    return heuristic\n}\n\nconst getNeighbour1 = (x, y, board, orientation, data) => {\n    if (\n        (orientation === data.VERTICAL && y - 1 >= 0 && !board[y - 1][x]) ||\n        (orientation === data.HORIZONTAL && x - 1 >= 0 && !board[y][x - 1]) ||\n        (orientation === data.DIAGONAL1 && x - 1 >= 0 && y - 1 >= 0 && !board[y - 1][x - 1]) ||\n        (orientation === data.DIAGONAL2 && x + 1 < 19 && y - 1 >= 0 && !board[y - 1][x + 1])\n    )\n        return 1\n    return 0\n}\n\nconst getNeighbour2 = (x, y, board, nb, orientation, data) => {\n    if (\n        (orientation === data.VERTICAL && y + nb < 19 && !board[y + nb][x]) ||\n        (orientation === data.HORIZONTAL && x + nb < 19 && !board[y][x + nb]) ||\n        (orientation === data.DIAGONAL1 && x + nb < 19 && y + nb < 19 && !board[y + nb][x + nb]) ||\n        (orientation === data.DIAGONAL2 && x - nb >= 0 && y + nb < 19 && !board[y + nb][x - nb])\n    )\n        return 1\n    return 0\n}\n\nconst checkVerticalAlignment = (x, y, board, color, checkedBoard) => {\n    var nb = 0\n    while (y < 19 && board[y][x] === color && checkedBoard[y][x] !== data.VERTICAL){\n        checkedBoard[y][x] = data.VERTICAL\n        nb++\n        y++\n    }\n    return nb\n}\n\nconst checkHorizontalAlignment = (x, y, board, color, checkedBoard) => {\n    var nb = 0\n    while (x < 19 && board[y][x] === color && checkedBoard[y][x] !== data.HORIZONTAL){\n        checkedBoard[y][x] = data.HORIZONTAL\n        nb++\n        x++\n    }\n    return nb\n}\n\nconst checkDiagonal1Alignment = (x, y, board, color, checkedBoard) => {\n    var nb = 0\n    while (x < 19 && y < 19 && board[y][x] === color && checkedBoard[y][x] !== data.DIAGONAL1){\n        checkedBoard[y][x] = data.DIAGONAL1\n        nb++\n        x++\n        y++\n    }\n    return nb\n}\n\nconst checkDiagonal2Alignment = (x, y, board, color, checkedBoard) => {\n    var nb = 0\n    while (x >= 0 && y < 19 && board[y][x] === color && checkedBoard[y][x] !== data.DIAGONAL2){\n        checkedBoard[y][x] = data.DIAGONAL2\n        nb++\n        x--\n        y++\n    }\n    return nb\n}\n\nconst checkStones = (x, y, board, orientation, checkedBoard) => {\n    var nb = 0\n    var color = board[y][x]\n    var neighbour1 = getNeighbour1(x, y, board, orientation, data)\n    var saveX = x\n    var saveY = y\n    if (orientation === data.VERTICAL)\n        nb = checkVerticalAlignment(x, y, board, color, checkedBoard)\n    else if (orientation === data.HORIZONTAL)\n        nb = checkHorizontalAlignment(x, y, board, color, checkedBoard)\n    else if (orientation === data.DIAGONAL1)\n        nb = checkDiagonal1Alignment(x, y, board, color, checkedBoard)\n    else if (orientation === data.DIAGONAL2)\n        nb = checkDiagonal2Alignment(x, y, board, color, checkedBoard)\n    if (nb > 1){\n        var neighbour2 = getNeighbour2(saveX, saveY, board, nb, orientation, data)\n        if (nb < 5 && !neighbour1 && !neighbour2)\n            return false\n        return {\n            nb,\n            neighbour1,\n            neighbour2\n        }\n    }\n    return false\n}\n\nconst checkAlignment = (x, y, board, checkedBoard) => {\n    var alignment = []\n    var ret\n    for (var c = data.VERTICAL; c <= data.DIAGONAL2; c++){\n        if ((ret = checkStones(x, y, board, c, checkedBoard)))\n            alignment.push(ret)\n    }\n    return alignment\n}\n\nconst initCheckedBoard = () => {\n    var res = []\n    for (var y = 0; y < 19; y++){\n        res[y] = []\n        for (var x = 0; x < 19; x++){\n            res[y][x] = 0\n        }\n    }\n    return res\n}\n\nconst alignmentsHeuristic = (board, data) => {\n    var heuristic = 0\n    var alignment\n    var checkedBoard = initCheckedBoard()\n    for (var y = 0; y < 19; y++){\n        for (var x = 0; x < 19; x++){\n            if (board[y][x] && board[y][x] !== data.FORBIDDEN){\n                alignment = checkAlignment(x, y, board, checkedBoard)\n                for (var c = 0; c < alignment.length; c++){\n                    if (board[y][x] === data.iaColor)\n                        heuristic += Math.pow(10, alignment[c].nb) * (1 + alignment[c].neighbour1 + alignment[c].neighbour2)\n                    else\n                        heuristic -= Math.pow(10, alignment[c].nb) * (1 + alignment[c].neighbour1 + alignment[c].neighbour2)\n                }\n            }\n        }\n    }\n    return heuristic\n}\n\nconst getHeuristic = (node, data) => {\n    const start = window.performance.now()\n    var board = getBoard(node, data.board)\n    var h1 = singleStonesHeuristic(board, data)\n    var h2 = alignmentsHeuristic(board, data)\n    const end = window.performance.now()\n    data.heuristicTime += end - start\n    return h1 + h2\n}\n\nexport default getHeuristic"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}