{"ast":null,"code":"var nbConbinations = 0;\nvar nbWins = 0;\nvar minNeighbours = false;\nconst checkStones = (x, y, board, orientation, sizeBoard, stones) => {\n  var nb = 0;\n  var color = board[y][x];\n  while (orientation === 'vertical' && y++ < sizeBoard && board[y - 1][x] === color) nb++;\n  while (orientation === 'horizontal' && x++ < sizeBoard && board[y][x - 1] === color) nb++;\n  while (orientation === 'diagonal1' && x++ < sizeBoard && y++ < sizeBoard && board[y - 1][x - 1] === color) nb++;\n  while (orientation === 'diagonal2' && x-- >= 0 && y++ < sizeBoard && board[y - 1][x + 1] === color) nb++;\n  if (nb >= stones) return color;\n  return false;\n};\nconst checkAlignment = (x, y, board, sizeBoard, stones) => {\n  var winner;\n  if ((winner = checkStones(x, y, board, 'vertical', sizeBoard, stones)) || (winner = checkStones(x, y, board, 'horizontal', sizeBoard, stones)) || (winner = checkStones(x, y, board, 'diagonal1', sizeBoard, stones)) || (winner = checkStones(x, y, board, 'diagonal2', sizeBoard, stones))) return winner;\n  return false;\n};\nconst checkWinner = (board, sizeBoard, stones) => {\n  var winner;\n  for (var y = 0; y < sizeBoard; y++) {\n    for (var x = 0; x < sizeBoard; x++) {\n      if (board[y][x] && (winner = checkAlignment(x, y, board, sizeBoard, stones))) return winner;\n    }\n  }\n  return false;\n};\nconst initArray = sizeArray => {\n  var array = [];\n  for (var y = 0; y < sizeArray; y++) {\n    array[y] = [];\n    for (var x = 0; x < sizeArray; x++) {\n      array[y][x] = 0;\n    }\n  }\n  return array;\n};\nconst countNeighbours = (array, sizeArray, x, y) => {\n  var neighbours = 0;\n  if (y - 1 >= 0 && array[y - 1][x]) neighbours += 1;\n  if (y - 1 >= 0 && x + 1 < sizeArray && array[y - 1][x + 1]) neighbours += 1;\n  if (x + 1 < sizeArray && array[y][x + 1]) neighbours += 1;\n  if (y + 1 < sizeArray && x + 1 < sizeArray && array[y + 1][x + 1]) neighbours += 1;\n  if (y + 1 < sizeArray && array[y + 1][x]) neighbours += 1;\n  if (y + 1 < sizeArray && x - 1 >= 0 && array[y + 1][x - 1]) neighbours += 1;\n  if (x - 1 >= 0 && array[y][x - 1]) neighbours += 1;\n  if (y - 1 >= 0 && x - 1 >= 0 && array[y - 1][x - 1]) neighbours += 1;\n  return neighbours;\n};\nconst getNeighbours = (array, sizeArray) => {\n  var neighbours = 0;\n  for (var y = 0; y < sizeArray; y++) {\n    for (var x = 0; x < sizeArray; x++) {\n      if (array[y][x]) neighbours += countNeighbours(array, sizeArray, x, y);\n    }\n  }\n  return neighbours;\n};\nconst testAllConbinations = (array, sizeArray, stonesToPlace, stones) => {\n  if (!stonesToPlace) {\n    nbConbinations += 1;\n    if (checkWinner(array, sizeArray, stones)) {\n      nbWins += 1;\n      var neighbours = getNeighbours(array, sizeArray);\n      if (minNeighbours === false || neighbours < minNeighbours) minNeighbours = neighbours;\n    }\n    return;\n  }\n  for (var y = 0; y < sizeArray; y++) {\n    for (var x = 0; x < sizeArray; x++) {\n      if (!array[y][x]) {\n        array[y][x] = 1;\n        testAllConbinations(array, sizeArray, stonesToPlace - 1, stones);\n        array[y][x] = 0;\n      }\n    }\n  }\n};\nconst test = () => {\n  var sizeArray = 5;\n  var stones = 2;\n  var array = initArray(sizeArray);\n  testAllConbinations(array, sizeArray, stones, stones);\n  console.log('nbConbinations', nbConbinations);\n  console.log('nbWins', nbWins);\n  console.log('min');\n};\nexport default test;","map":{"version":3,"names":["nbConbinations","nbWins","minNeighbours","checkStones","x","y","board","orientation","sizeBoard","stones","nb","color","checkAlignment","winner","checkWinner","initArray","sizeArray","array","countNeighbours","neighbours","getNeighbours","testAllConbinations","stonesToPlace","test","console","log"],"sources":["/Users/adauchy/work/ft/gomoku/myGomokuGit/front/src/pages/humanVsAi/test.js"],"sourcesContent":["var nbConbinations = 0\nvar nbWins = 0\nvar minNeighbours = false\n\nconst checkStones = (x, y, board, orientation, sizeBoard, stones) => {\n    var nb = 0\n    var color = board[y][x]\n    while (orientation === 'vertical' && y++ < sizeBoard && board[y - 1][x] === color)nb++\n    while (orientation === 'horizontal' && x++ < sizeBoard && board[y][x - 1] === color)nb++\n    while (orientation === 'diagonal1' && x++ < sizeBoard && y++ < sizeBoard && board[y - 1][x - 1] === color)nb++\n    while (orientation === 'diagonal2' && x-- >= 0 && y++ < sizeBoard && board[y - 1][x + 1] === color)nb++\n    if (nb >= stones)\n        return color\n    return false\n}\n\nconst checkAlignment = (x, y, board, sizeBoard, stones) => {\n    var winner\n    if (\n        (winner = checkStones(x, y, board, 'vertical', sizeBoard, stones)) ||\n        (winner = checkStones(x, y, board, 'horizontal', sizeBoard, stones)) ||\n        (winner = checkStones(x, y, board, 'diagonal1', sizeBoard, stones)) ||\n        (winner = checkStones(x, y, board, 'diagonal2', sizeBoard, stones))\n    )\n        return winner\n    return false\n}\n\nconst checkWinner = (board, sizeBoard, stones) => {\n    var winner\n    for (var y = 0; y < sizeBoard; y++){\n        for (var x = 0; x < sizeBoard; x++){\n            if (board[y][x] && (winner = checkAlignment(x, y, board, sizeBoard, stones)))\n                return winner\n        }\n    }\n    return false\n}\n\n\n\nconst initArray = (sizeArray) => {\n\tvar array = []\n\tfor (var y = 0; y < sizeArray; y++){\n\t\tarray[y] = []\n\t\tfor (var x = 0; x < sizeArray; x++){\n\t\t\tarray[y][x] = 0\n\t\t}\n\t}\n\treturn array\n}\n\nconst countNeighbours = (array, sizeArray, x, y) => {\n\tvar neighbours = 0\n\tif (y - 1 >= 0 && array[y - 1][x])\n\t\tneighbours += 1\n\tif (y - 1 >= 0 && x + 1 < sizeArray && array[y - 1][x + 1])\n\t\tneighbours += 1\n\tif (x + 1 < sizeArray && array[y][x + 1])\n\t\tneighbours += 1\n\tif (y + 1 < sizeArray && x + 1 < sizeArray && array[y + 1][x + 1])\n\t\tneighbours += 1\n\tif (y + 1 < sizeArray && array[y + 1][x])\n\t\tneighbours += 1\n\tif (y + 1 < sizeArray && x - 1 >= 0 && array[y + 1][x - 1])\n\t\tneighbours += 1\n\tif (x - 1 >= 0 && array[y][x - 1])\n\t\tneighbours += 1\n\tif (y - 1 >= 0 && x - 1 >= 0 && array[y - 1][x - 1])\n\t\tneighbours += 1\n\treturn neighbours\n}\n\nconst getNeighbours = (array, sizeArray) => {\n\tvar neighbours = 0\n\tfor (var y = 0; y < sizeArray; y++){\n\t\tfor (var x = 0; x < sizeArray; x++){\n\t\t\tif (array[y][x])\n\t\t\t\tneighbours += countNeighbours(array, sizeArray, x, y)\n\t\t}\n\t}\n\treturn neighbours\n}\n\nconst testAllConbinations = (array, sizeArray, stonesToPlace, stones) => {\n\tif (!stonesToPlace){\n\t\tnbConbinations += 1\n\t\tif (checkWinner(array, sizeArray, stones))\n\t\t{\n\t\t\tnbWins += 1\n\t\t\tvar neighbours = getNeighbours(array, sizeArray)\n\t\t\tif (minNeighbours === false || neighbours < minNeighbours)\n\t\t\t\tminNeighbours = neighbours\n\t\t}\n\t\treturn\n\t}\n\tfor (var y = 0; y < sizeArray; y++){\n\t\tfor (var x = 0; x < sizeArray; x++){\n\t\t\tif (!array[y][x]){\n\t\t\t\tarray[y][x] = 1\n\t\t\t\ttestAllConbinations(array, sizeArray, stonesToPlace - 1, stones)\n\t\t\t\tarray[y][x] = 0\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst test = () => {\n\tvar sizeArray = 5\n\tvar stones = 2\n\tvar array = initArray(sizeArray)\n\ttestAllConbinations(array, sizeArray, stones, stones)\n\tconsole.log('nbConbinations', nbConbinations)\n\tconsole.log('nbWins', nbWins)\n\tconsole.log('min')\n}\n\nexport default test"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}